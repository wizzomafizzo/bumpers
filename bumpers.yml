session:
  - add: "Today's date is: {{.Today}}"

commands:
  - name: test
    send: 'Run "just test" to run all tests and fix ALL failing tests if any.'
  - name: lint
    send: 'Run "just lint fix" and fix ALL linting issues if any.'
  - name: check
    send: 'Run "just lint fix" and "just test" and fix ALL issues if any.'
  - name: commit
    send: "Commit ALL modified files."
  - name: logs
    send: "Read log file in ~/.local/share/bumpers/bumpers.log"
  - name: branch
    send: "Create a new feature branch before procerding with changes."

rules:
  - match: " /tmp"
    send: Use a "tmp" directory in the project root instead.
  - match: "go test "
    send: |
      Use "just test" instead for TDD integration:
      - just test                                # Run all tests
      - just test ./internal/claude              # Test only a specific package
      - just test "" TestExample1                # Run all tests with a specific test case
      - just test ./internal/claude TestExample1 # Test only a specific package with a specific test case
  - match: "^(gci|go vet|goimports|gofumpt|go *fmt|golangci-lint)"
    send: Use "just lint fix" instead to resolve lint/formatting issues.
  - match: "git commit --no-verify|LEFTHOOK=0"
    send: Pre-commit hooks must not be skipped.
  - match: "fieldalignment"
    send: Fix field alignment issues by adding names to struct fields and running "just lint fix".
  - match: 'find\s+.*-exec\s+(rm(\s+-\w+)*|sed\s+-i|>\s*\S+)\s+'
    send: Don't use dangerous exec in find commands.
  - match: "BUMPERS_SKIP=1"
    send: Bumpers should not be skipped.
  - match: "bumpers.yml"
    tool: "Read|Edit|Grep"
    send: Bumpers configuration file should not be accessed directly.
